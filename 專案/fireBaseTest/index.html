<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>firebase資料測試</title>
	<!-- Firebase App is always required and must be first -->
	<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>

	<!-- Add additional services that you want to use -->
	<!-- <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-auth.js"></script> -->
	<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-database.js"></script>
	<!--<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-firestore.js"></script> -->
	<!--<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-messaging.js"></script> -->
	<!--<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-functions.js"></script> -->

	<script src="https://www.gstatic.com/firebasejs/5.3.1/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  var config = {
	    apiKey: "AIzaSyAzCdGqP1SxzrH17Bbm7Q7GXdxnBzZVRxw",
	    authDomain: "myproject1-234d3.firebaseapp.com",
	    databaseURL: "https://myproject1-234d3.firebaseio.com",
	    projectId: "myproject1-234d3",
	    storageBucket: "myproject1-234d3.appspot.com",
	    messagingSenderId: "350669786534"
	  };
	  firebase.initializeApp(config);
	</script>
</head>
<body>
	<h1>Raspberry Pi 3B+</h1>
	<p>Remote Control</p>

	<button id="myButtonTurnOn" onClick="turnOn();">On</button><br>
	<button id="myButtonTurnOff" onClick="turnOff();">Off</button><br>

	<p id="messagesDiv"></p>
	

	

	<script>
		function turnOn(){
			firebase.database().ref('GPIO/17').on('value', function(snapshot){
				if (snapshot.val() == 0){
					document.getElementById("messagesDiv").innerHTML = "On";
			    	firebase.database().ref('GPIO/').update({17: 1});
				}
			});
		}

		function turnOff() {
	        firebase.database().ref('GPIO/17').on('value', function(snapshot) {
			    if (snapshot.val() == 1) {
	                document.getElementById("messagesDiv").innerHTML = "Off";
	                firebase.database().ref('GPIO/').update({17: 0});
			    }
	        });
     	}
	</script>
</body>
</html>